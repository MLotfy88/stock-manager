# خطة عمل المشروع (Project Plan)

هذه الخطة تحدد المهام الرئيسية المطلوبة لنقل المشروع من نموذج أولي إلى تطبيق متكامل.

## المرحلة صفر: بناء الواجهات المتقدمة (مكتمل)
- **الهدف:** بناء جميع الواجهات الأمامية للميزات المتقدمة باستخدام بيانات مؤقتة.
- **المهام:**
    - [x] إعادة هيكلة البيانات لفصل تعريف المنتج عن المخزون.
    - [x] تطوير واجهة تعريف المنتجات مع ميزة "حد الطلب".
    - [x] تطوير واجهة إضافة المخزون.
    - [x] إضافة ميزة المخازن المتعددة وصفحة إدارتها.
    - [x] إضافة ميزة نقل المخزون.
    - [x] دمج ماسح الباركود في العمليات الرئيسية.
    - [x] بناء واجهة تقرير جرد المخزون.
    - [x] بناء واجهة تقرير حد الطلب.
    - [x] تفعيل ميزة استيراد وتصدير تعريف المنتجات.

## المرحلة الأولى: التحول إلى Supabase (الأولوية القصوى)
- **الهدف:** استبدال البيانات المؤقتة بقاعدة بيانات Supabase بشكل كامل.
- **المهام:**
    1.  **[ ] إنشاء عميل Supabase:** إنشاء ملف `src/lib/supabaseClient.ts`.
    2.  **[ ] تعديل عمليات البيانات (`src/data/operations`):**
        - [ ] تعديل جميع الدوال لجلب وتحديث البيانات من Supabase بدلاً من `mockData`.
    3.  **[ ] ربط الواجهة بـ `react-query`:**
        - [ ] تغليف دوال Supabase الجديدة بـ `useQuery` و `useMutation` في جميع الصفحات.
    4.  **[ ] إزالة الكود القديم:**
        - [ ] حذف جميع ملفات `mockData` والبيانات المؤقتة.

## المرحلة الثانية: نظام المصادقة والأمان
- **الهدف:** إضافة نظام تسجيل دخول وحماية المسارات.
- **المهام:**
    1.  **[ ] إعداد Supabase Auth.**
    2.  **[ ] إنشاء صفحة تسجيل دخول.**
    3.  **[ ] إنشاء `AuthContext`.**
    4.  **[ ] حماية المسارات.**

## المرحلة الثالثة: تحسينات وتطويرات
- **الهدف:** إضافة ميزات جديدة وتحسين التجربة.
- **المهام:**
    1.  **[ ] بناء واجهة تقارير موحدة:** إعادة تصميم صفحة التقارير لتجميع كل التقارير (جرد، حد الطلب، استهلاك) في واجهة واحدة مع تبويبات.
    2.  **[ ] تطوير واجهة إضافة مخزون مجمّع:** إنشاء واجهة جديدة تسمح بإضافة عدة أصناف مخزون دفعة واحدة.
    3.  **[ ] ربط التقارير بالبيانات الحية:** التأكد من أن جميع التقارير تعمل بشكل ديناميكي مع Supabase.
    4.  **[ ] كتابة الاختبارات (Testing).**

---
**ملاحظة:** سيتم تحديث هذه الخطة بوضع علامة `[x]` بجانب كل مهمة مكتملة.
